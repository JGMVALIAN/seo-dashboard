{
    "updatedAt":  "2026-01-30T16:20:46.524Z",
    "createdAt":  "2026-01-29T22:43:50.308Z",
    "id":  "zzMMxvDR5RimTaMR",
    "name":  "Advanced Keyword Research \u0026 Competitor Analysis",
    "description":  null,
    "active":  true,
    "isArchived":  false,
    "nodes":  [
                  {
                      "parameters":  {
                                         "httpMethod":  "POST",
                                         "path":  "testkw",
                                         "responseMode":  "lastNode",
                                         "options":  {

                                                     }
                                     },
                      "id":  "webhook-trigger",
                      "name":  "Keyword Research Webhook",
                      "type":  "n8n-nodes-base.webhook",
                      "typeVersion":  2,
                      "position":  [
                                       0,
                                       0
                                   ],
                      "webhookId":  "3613ecf0-76ce-4a03-b1c1-8a715689e961"
                  },
                  {
                      "parameters":  {
                                         "jsCode":  "const items = $input.all();\nconst body = items[0].json.body || items[0].json;\n\nconst seedKeywords = body.seed_keywords;\nconst language = body.language || \u0027es\u0027;\nconst location = body.location || \u0027ES\u0027;\nconst industry = body.industry || \u0027general\u0027;\nconst includeCompetitors = body.include_competitors !== false;\nconst maxKeywords = parseInt(body.max_keywords) || 200;\n\nif (!seedKeywords || (Array.isArray(seedKeywords) \u0026\u0026 seedKeywords.length === 0)) {\n  return [{\n    json: {\n      error: true,\n      message: \u0027seed_keywords is required (array or comma-separated string)\u0027\n    }\n  }];\n}\n\nconst keywords = Array.isArray(seedKeywords) \n  ? seedKeywords \n  : seedKeywords.split(\u0027,\u0027).map(k =\u003e k.trim());\n\nreturn [{\n  json: {\n    seed_keywords: keywords,\n    language: language,\n    location: location,\n    industry: industry,\n    include_competitors: includeCompetitors,\n    max_keywords: maxKeywords,\n    research_id: `research_${Date.now()}_${Math.random().toString(36).substring(7)}`,\n    timestamp: new Date().toISOString()\n  }\n}];"
                                     },
                      "id":  "validate-input",
                      "name":  "Validate Input",
                      "type":  "n8n-nodes-base.code",
                      "typeVersion":  2,
                      "position":  [
                                       240,
                                       0
                                   ]
                  },
                  {
                      "parameters":  {
                                         "jsCode":  "const items = $input.all();\nconst config = items[0].json;\nconst seedKeywords = config.seed_keywords;\n\nconst SERP_API_KEY = \u0027efda7cfb836a0708b3df4dcef8e9bd4f888caed3b46a270747e1b6bdaf8de011\u0027;\nconst expansions = [];\n\nseedKeywords.forEach(keyword =\u003e {\n  expansions.push({\n    json: {\n      ...config,\n      keyword: keyword,\n      source: \u0027google-trends\u0027,\n      api_url: \u0027https://serpapi.com/search\u0027,\n      params: {\n        engine: \u0027google_trends\u0027,\n        q: keyword,\n        data_type: \u0027RELATED_QUERIES\u0027,\n        hl: config.language,\n        gl: config.location,\n        api_key: SERP_API_KEY\n      }\n    }\n  });\n  \n  expansions.push({\n    json: {\n      ...config,\n      keyword: keyword,\n      source: \u0027google-autocomplete\u0027,\n      api_url: \u0027https://serpapi.com/search\u0027,\n      params: {\n        engine: \u0027google_autocomplete\u0027,\n        q: keyword,\n        hl: config.language,\n        gl: config.location,\n        api_key: SERP_API_KEY\n      }\n    }\n  });\n});\n\nreturn expansions.slice(0, 50);"
                                     },
                      "id":  "prepare-keyword-expansion",
                      "name":  "Prepare Keyword Expansion",
                      "type":  "n8n-nodes-base.code",
                      "typeVersion":  2,
                      "position":  [
                                       480,
                                       0
                                   ]
                  },
                  {
                      "parameters":  {
                                         "url":  "={{ $json.api_url }}",
                                         "sendQuery":  true,
                                         "queryParameters":  {
                                                                 "parameters":  [
                                                                                    {
                                                                                        "name":  "engine",
                                                                                        "value":  "={{ $json.params.engine }}"
                                                                                    },
                                                                                    {
                                                                                        "name":  "q",
                                                                                        "value":  "={{ $json.params.q }}"
                                                                                    },
                                                                                    {
                                                                                        "name":  "hl",
                                                                                        "value":  "={{ $json.params.hl }}"
                                                                                    },
                                                                                    {
                                                                                        "name":  "gl",
                                                                                        "value":  "={{ $json.params.gl }}"
                                                                                    },
                                                                                    {
                                                                                        "name":  "api_key",
                                                                                        "value":  "={{ $json.params.api_key }}"
                                                                                    }
                                                                                ]
                                                             },
                                         "options":  {

                                                     }
                                     },
                      "id":  "fetch-keywords",
                      "name":  "Fetch Keywords",
                      "type":  "n8n-nodes-base.httpRequest",
                      "typeVersion":  4.2,
                      "position":  [
                                       960,
                                       0
                                   ]
                  },
                  {
                      "parameters":  {
                                         "jsCode":  "const items = $input.all();\nconst config = $(\u0027Validate Input\u0027).first().json;\nconst allKeywords = new Map();\n\nfunction normalizeKeyword(kw) { return kw.toLowerCase().trim().replace(/\\s+/g, \u0027 \u0027); }\nfunction detectIntent(keyword) {\n  const kw = keyword.toLowerCase();\n  if (/^(qué|cómo|cuál|por qué|cuándo|dónde|quién|guide|tutorial|guía|aprender)/i.test(kw)) return \u0027informational\u0027;\n  if (/(mejor|mejores|comparar|comparación|vs|versus|review|opiniones|top)/i.test(kw)) return \u0027commercial\u0027;\n  if (/(comprar|precio|presupuesto|contratar|oferta|descuento|barato)/i.test(kw)) return \u0027transactional\u0027;\n  return \u0027informational\u0027;\n}\n\nitems.forEach(item =\u003e {\n  const data = item.json;\n  const suggestions = data.suggestions || data.related_queries?.rising || data.related_queries?.top || data.related_searches || data.related_questions || [];\n  suggestions.forEach(s =\u003e {\n    const text = s.value || s.query || s.question;\n    if (text) {\n      const normalized = normalizeKeyword(text);\n      if (!allKeywords.has(normalized)) {\n        allKeywords.set(normalized, {\n          keyword: text,\n          volume_indicator: s.value || 50,\n          search_intent: detectIntent(text)\n        });\n      }\n    }\n  });\n});\n\nconst filtered = Array.from(allKeywords.values()).sort((a, b) =\u003e b.volume_indicator - a.volume_indicator).slice(0, config.max_keywords || 200);\n\nconst clusters = {};\nfiltered.slice(0, 50).forEach(k =\u003e {\n  const words = k.keyword.split(\u0027 \u0027);\n  const mainWord = words.length \u003e 1 ? words[1] : words[0];\n  if (!clusters[mainWord]) clusters[mainWord] = [];\n  clusters[mainWord].push(k.keyword);\n});\n\nconst clusterSummary = Object.entries(clusters).map(([name, keywords]) =\u003e `${name.toUpperCase()} (${keywords.length})`).slice(0, 5).join(\u0027 | \u0027);\nconst quickWins = filtered.filter(k =\u003e k.keyword.split(\u0027 \u0027).length \u003e 3).slice(0, 5).map(k =\u003e k.keyword).join(\u0027, \u0027);\nconst highPriority = filtered.filter(k =\u003e k.search_intent === \u0027transactional\u0027).slice(0, 5).map(k =\u003e k.keyword).join(\u0027, \u0027) || filtered.slice(0, 5).map(k =\u003e k.keyword).join(\u0027, \u0027);\nconst contentIdeas = filtered.slice(0, 5).map(k =\u003e `Optimizar: ${k.keyword}`).join(\u0027 | \u0027);\n\nreturn [{\n  json: {\n    Date: new Date().toISOString().split(\u0027T\u0027)[0],\n    \u0027Research ID\u0027: config.research_id,\n    \u0027Seed Keywords\u0027: config.seed_keywords.join(\u0027, \u0027),\n    \u0027Total Keywords\u0027: filtered.length,\n    Clusters: clusterSummary,\n    \u0027Quick Wins\u0027: quickWins,\n    \u0027High Priority\u0027: highPriority,\n    \u0027Content Ideas\u0027: contentIdeas,\n    \u0027Top Opportunity\u0027: filtered[0]?.keyword || \u0027None found\u0027\n  }\n}];"
                                     },
                      "id":  "aggregate-and-analyze",
                      "name":  "Aggregate and Analyze",
                      "type":  "n8n-nodes-base.code",
                      "typeVersion":  2,
                      "position":  [
                                       1200,
                                       0
                                   ],
                      "retryOnFail":  true,
                      "maxTries":  3,
                      "waitBetweenTries":  1000
                  },
                  {
                      "parameters":  {
                                         "columns":  {
                                                         "mappingMode":  "autoMapInputData",
                                                         "value":  {

                                                                   }
                                                     },
                                         "documentId":  {
                                                            "__rl":  true,
                                                            "mode":  "id",
                                                            "value":  "1cCu5_BB-xMCzXfzXpZeoEvW6zYgbQjaHFEWvQM4poPQ"
                                                        },
                                         "operation":  "append",
                                         "options":  {

                                                     },
                                         "resource":  "sheet",
                                         "sheetName":  {
                                                           "__rl":  true,
                                                           "mode":  "name",
                                                           "value":  "Keyword Research"
                                                       }
                                     },
                      "id":  "save-research",
                      "name":  "Save Research to Sheets",
                      "type":  "n8n-nodes-base.googleSheets",
                      "typeVersion":  4.5,
                      "position":  [
                                       1920,
                                       0
                                   ],
                      "credentials":  {
                                          "googleSheetsOAuth2Api":  {
                                                                        "id":  "cu0w6Z9j874ktEH4",
                                                                        "name":  "Google Sheets account"
                                                                    }
                                      }
                  },
                  {
                      "id":  "call-seo-generator",
                      "name":  "Trigger SEO Generator",
                      "type":  "n8n-nodes-base.httpRequest",
                      "typeVersion":  4.2,
                      "position":  [
                                       2160,
                                       0
                                   ],
                      "parameters":  {
                                         "bodyParameters":  {
                                                                "parameters":  [
                                                                                   {
                                                                                       "name":  "keyword",
                                                                                       "value":  "={{ $json[\u0027Top Opportunity\u0027] }}"
                                                                                   },
                                                                                   {
                                                                                       "name":  "send_email",
                                                                                       "value":  "true"
                                                                                   },
                                                                                   {
                                                                                       "name":  "language",
                                                                                       "value":  "es"
                                                                                   }
                                                                               ]
                                                            },
                                         "method":  "POST",
                                         "options":  {
                                                         "response":  {
                                                                          "response":  {
                                                                                           "neverError":  true,
                                                                                           "responseFormat":  "text"
                                                                                       }
                                                                      }
                                                     },
                                         "sendBody":  true,
                                         "specifyBody":  "keypair",
                                         "url":  "https://n8n.larryvanscamper.com/webhook/db0931a7-fb62-4a3a-a79f-915cd918edaf"
                                     },
                      "onError":  "continueRegularOutput"
                  }
              ],
    "connections":  {
                        "Keyword Research Webhook":  {
                                                         "main":  [
                                                                      [
                                                                          {
                                                                              "node":  "Validate Input",
                                                                              "type":  "main",
                                                                              "index":  0
                                                                          }
                                                                      ]
                                                                  ]
                                                     },
                        "Validate Input":  {
                                               "main":  [
                                                            [
                                                                {
                                                                    "node":  "Prepare Keyword Expansion",
                                                                    "type":  "main",
                                                                    "index":  0
                                                                }
                                                            ]
                                                        ]
                                           },
                        "Aggregate and Analyze":  {
                                                      "main":  [
                                                                   [
                                                                       {
                                                                           "node":  "Save Research to Sheets",
                                                                           "type":  "main",
                                                                           "index":  0
                                                                       }
                                                                   ]
                                                               ]
                                                  },
                        "Prepare Keyword Expansion":  {
                                                          "main":  [
                                                                       [
                                                                           {
                                                                               "node":  "Fetch Keywords",
                                                                               "type":  "main",
                                                                               "index":  0
                                                                           }
                                                                       ]
                                                                   ]
                                                      },
                        "Fetch Keywords":  {
                                               "main":  [
                                                            [
                                                                {
                                                                    "node":  "Aggregate and Analyze",
                                                                    "type":  "main",
                                                                    "index":  0
                                                                }
                                                            ]
                                                        ]
                                           },
                        "Save Research to Sheets":  {
                                                        "main":  [
                                                                     [
                                                                         {
                                                                             "node":  "Trigger SEO Generator",
                                                                             "type":  "main",
                                                                             "index":  0
                                                                         }
                                                                     ]
                                                                 ]
                                                    }
                    },
    "settings":  {
                     "executionOrder":  "v1",
                     "callerPolicy":  "workflowsFromSameOwner",
                     "availableInMCP":  false
                 },
    "staticData":  null,
    "meta":  null,
    "pinData":  {

                },
    "versionId":  "b99df0bd-bd37-46d4-8bbd-b9a25975bf7f",
    "activeVersionId":  "b99df0bd-bd37-46d4-8bbd-b9a25975bf7f",
    "versionCounter":  95,
    "triggerCount":  1,
    "shared":  [
                   {
                       "updatedAt":  "2026-01-29T22:43:50.312Z",
                       "createdAt":  "2026-01-29T22:43:50.312Z",
                       "role":  "workflow:owner",
                       "workflowId":  "zzMMxvDR5RimTaMR",
                       "projectId":  "VFNLZG86dWLIX5E4",
                       "project":  {
                                       "updatedAt":  "2026-01-28T17:00:09.679Z",
                                       "createdAt":  "2026-01-04T16:20:46.534Z",
                                       "id":  "VFNLZG86dWLIX5E4",
                                       "name":  "Jesús Matallanos \u003cmatallanos4@hotmail.com\u003e",
                                       "type":  "personal",
                                       "icon":  null,
                                       "description":  null,
                                       "creatorId":  "a566efca-8089-4c41-ae9c-d5e9ffa7a7f9",
                                       "projectRelations":  [
                                                                {
                                                                    "updatedAt":  "2026-01-04T16:20:46.535Z",
                                                                    "createdAt":  "2026-01-04T16:20:46.535Z",
                                                                    "userId":  "a566efca-8089-4c41-ae9c-d5e9ffa7a7f9",
                                                                    "projectId":  "VFNLZG86dWLIX5E4",
                                                                    "user":  {
                                                                                 "updatedAt":  "2026-01-30T20:48:44.000Z",
                                                                                 "createdAt":  "2026-01-04T16:20:46.169Z",
                                                                                 "id":  "a566efca-8089-4c41-ae9c-d5e9ffa7a7f9",
                                                                                 "email":  "matallanos4@hotmail.com",
                                                                                 "firstName":  "Jesús",
                                                                                 "lastName":  "Matallanos",
                                                                                 "personalizationAnswers":  {
                                                                                                                "version":  "v4",
                                                                                                                "personalization_survey_submitted_at":  "2026-01-28T17:00:21.007Z",
                                                                                                                "personalization_survey_n8n_version":  "2.1.4",
                                                                                                                "companySize":  "personalUser",
                                                                                                                "companyType":  "saas",
                                                                                                                "role":  "business-owner",
                                                                                                                "reportedSource":  "google"
                                                                                                            },
                                                                                 "settings":  {
                                                                                                  "userActivated":  true,
                                                                                                  "firstSuccessfulWorkflowId":  "q0JKV3RdQOVM6NMY",
                                                                                                  "userActivatedAt":  1769644414181
                                                                                              },
                                                                                 "disabled":  false,
                                                                                 "mfaEnabled":  false,
                                                                                 "lastActiveAt":  "2026-01-30",
                                                                                 "isPending":  false
                                                                             }
                                                                }
                                                            ]
                                   }
                   }
               ],
    "tags":  [

             ],
    "activeVersion":  {
                          "updatedAt":  "2026-01-30T16:20:46.527Z",
                          "createdAt":  "2026-01-30T16:20:46.527Z",
                          "versionId":  "b99df0bd-bd37-46d4-8bbd-b9a25975bf7f",
                          "workflowId":  "zzMMxvDR5RimTaMR",
                          "nodes":  [
                                        {
                                            "parameters":  {
                                                               "httpMethod":  "POST",
                                                               "path":  "testkw",
                                                               "responseMode":  "lastNode",
                                                               "options":  {

                                                                           }
                                                           },
                                            "id":  "webhook-trigger",
                                            "name":  "Keyword Research Webhook",
                                            "type":  "n8n-nodes-base.webhook",
                                            "typeVersion":  2,
                                            "position":  [
                                                             0,
                                                             0
                                                         ],
                                            "webhookId":  "3613ecf0-76ce-4a03-b1c1-8a715689e961"
                                        },
                                        {
                                            "parameters":  {
                                                               "jsCode":  "const items = $input.all();\nconst body = items[0].json.body || items[0].json;\n\nconst seedKeywords = body.seed_keywords;\nconst language = body.language || \u0027es\u0027;\nconst location = body.location || \u0027ES\u0027;\nconst industry = body.industry || \u0027general\u0027;\nconst includeCompetitors = body.include_competitors !== false;\nconst maxKeywords = parseInt(body.max_keywords) || 200;\n\nif (!seedKeywords || (Array.isArray(seedKeywords) \u0026\u0026 seedKeywords.length === 0)) {\n  return [{\n    json: {\n      error: true,\n      message: \u0027seed_keywords is required (array or comma-separated string)\u0027\n    }\n  }];\n}\n\nconst keywords = Array.isArray(seedKeywords) \n  ? seedKeywords \n  : seedKeywords.split(\u0027,\u0027).map(k =\u003e k.trim());\n\nreturn [{\n  json: {\n    seed_keywords: keywords,\n    language: language,\n    location: location,\n    industry: industry,\n    include_competitors: includeCompetitors,\n    max_keywords: maxKeywords,\n    research_id: `research_${Date.now()}_${Math.random().toString(36).substring(7)}`,\n    timestamp: new Date().toISOString()\n  }\n}];"
                                                           },
                                            "id":  "validate-input",
                                            "name":  "Validate Input",
                                            "type":  "n8n-nodes-base.code",
                                            "typeVersion":  2,
                                            "position":  [
                                                             240,
                                                             0
                                                         ]
                                        },
                                        {
                                            "parameters":  {
                                                               "jsCode":  "const items = $input.all();\nconst config = items[0].json;\nconst seedKeywords = config.seed_keywords;\n\nconst SERP_API_KEY = \u0027efda7cfb836a0708b3df4dcef8e9bd4f888caed3b46a270747e1b6bdaf8de011\u0027;\nconst expansions = [];\n\nseedKeywords.forEach(keyword =\u003e {\n  expansions.push({\n    json: {\n      ...config,\n      keyword: keyword,\n      source: \u0027google-trends\u0027,\n      api_url: \u0027https://serpapi.com/search\u0027,\n      params: {\n        engine: \u0027google_trends\u0027,\n        q: keyword,\n        data_type: \u0027RELATED_QUERIES\u0027,\n        hl: config.language,\n        gl: config.location,\n        api_key: SERP_API_KEY\n      }\n    }\n  });\n  \n  expansions.push({\n    json: {\n      ...config,\n      keyword: keyword,\n      source: \u0027google-autocomplete\u0027,\n      api_url: \u0027https://serpapi.com/search\u0027,\n      params: {\n        engine: \u0027google_autocomplete\u0027,\n        q: keyword,\n        hl: config.language,\n        gl: config.location,\n        api_key: SERP_API_KEY\n      }\n    }\n  });\n});\n\nreturn expansions.slice(0, 50);"
                                                           },
                                            "id":  "prepare-keyword-expansion",
                                            "name":  "Prepare Keyword Expansion",
                                            "type":  "n8n-nodes-base.code",
                                            "typeVersion":  2,
                                            "position":  [
                                                             480,
                                                             0
                                                         ]
                                        },
                                        {
                                            "parameters":  {
                                                               "url":  "={{ $json.api_url }}",
                                                               "sendQuery":  true,
                                                               "queryParameters":  {
                                                                                       "parameters":  [
                                                                                                          {
                                                                                                              "name":  "engine",
                                                                                                              "value":  "={{ $json.params.engine }}"
                                                                                                          },
                                                                                                          {
                                                                                                              "name":  "q",
                                                                                                              "value":  "={{ $json.params.q }}"
                                                                                                          },
                                                                                                          {
                                                                                                              "name":  "hl",
                                                                                                              "value":  "={{ $json.params.hl }}"
                                                                                                          },
                                                                                                          {
                                                                                                              "name":  "gl",
                                                                                                              "value":  "={{ $json.params.gl }}"
                                                                                                          },
                                                                                                          {
                                                                                                              "name":  "api_key",
                                                                                                              "value":  "={{ $json.params.api_key }}"
                                                                                                          }
                                                                                                      ]
                                                                                   },
                                                               "options":  {

                                                                           }
                                                           },
                                            "id":  "fetch-keywords",
                                            "name":  "Fetch Keywords",
                                            "type":  "n8n-nodes-base.httpRequest",
                                            "typeVersion":  4.2,
                                            "position":  [
                                                             960,
                                                             0
                                                         ]
                                        },
                                        {
                                            "parameters":  {
                                                               "jsCode":  "const items = $input.all();\nconst config = $(\u0027Validate Input\u0027).first().json;\nconst allKeywords = new Map();\n\nfunction normalizeKeyword(kw) { return kw.toLowerCase().trim().replace(/\\s+/g, \u0027 \u0027); }\nfunction detectIntent(keyword) {\n  const kw = keyword.toLowerCase();\n  if (/^(qué|cómo|cuál|por qué|cuándo|dónde|quién|guide|tutorial|guía|aprender)/i.test(kw)) return \u0027informational\u0027;\n  if (/(mejor|mejores|comparar|comparación|vs|versus|review|opiniones|top)/i.test(kw)) return \u0027commercial\u0027;\n  if (/(comprar|precio|presupuesto|contratar|oferta|descuento|barato)/i.test(kw)) return \u0027transactional\u0027;\n  return \u0027informational\u0027;\n}\n\nitems.forEach(item =\u003e {\n  const data = item.json;\n  const suggestions = data.suggestions || data.related_queries?.rising || data.related_queries?.top || data.related_searches || data.related_questions || [];\n  suggestions.forEach(s =\u003e {\n    const text = s.value || s.query || s.question;\n    if (text) {\n      const normalized = normalizeKeyword(text);\n      if (!allKeywords.has(normalized)) {\n        allKeywords.set(normalized, {\n          keyword: text,\n          volume_indicator: s.value || 50,\n          search_intent: detectIntent(text)\n        });\n      }\n    }\n  });\n});\n\nconst filtered = Array.from(allKeywords.values()).sort((a, b) =\u003e b.volume_indicator - a.volume_indicator).slice(0, config.max_keywords || 200);\n\nconst clusters = {};\nfiltered.slice(0, 50).forEach(k =\u003e {\n  const words = k.keyword.split(\u0027 \u0027);\n  const mainWord = words.length \u003e 1 ? words[1] : words[0];\n  if (!clusters[mainWord]) clusters[mainWord] = [];\n  clusters[mainWord].push(k.keyword);\n});\n\nconst clusterSummary = Object.entries(clusters).map(([name, keywords]) =\u003e `${name.toUpperCase()} (${keywords.length})`).slice(0, 5).join(\u0027 | \u0027);\nconst quickWins = filtered.filter(k =\u003e k.keyword.split(\u0027 \u0027).length \u003e 3).slice(0, 5).map(k =\u003e k.keyword).join(\u0027, \u0027);\nconst highPriority = filtered.filter(k =\u003e k.search_intent === \u0027transactional\u0027).slice(0, 5).map(k =\u003e k.keyword).join(\u0027, \u0027) || filtered.slice(0, 5).map(k =\u003e k.keyword).join(\u0027, \u0027);\nconst contentIdeas = filtered.slice(0, 5).map(k =\u003e `Optimizar: ${k.keyword}`).join(\u0027 | \u0027);\n\nreturn [{\n  json: {\n    Date: new Date().toISOString().split(\u0027T\u0027)[0],\n    \u0027Research ID\u0027: config.research_id,\n    \u0027Seed Keywords\u0027: config.seed_keywords.join(\u0027, \u0027),\n    \u0027Total Keywords\u0027: filtered.length,\n    Clusters: clusterSummary,\n    \u0027Quick Wins\u0027: quickWins,\n    \u0027High Priority\u0027: highPriority,\n    \u0027Content Ideas\u0027: contentIdeas,\n    \u0027Top Opportunity\u0027: filtered[0]?.keyword || \u0027None found\u0027\n  }\n}];"
                                                           },
                                            "id":  "aggregate-and-analyze",
                                            "name":  "Aggregate and Analyze",
                                            "type":  "n8n-nodes-base.code",
                                            "typeVersion":  2,
                                            "position":  [
                                                             1200,
                                                             0
                                                         ],
                                            "retryOnFail":  true,
                                            "maxTries":  3,
                                            "waitBetweenTries":  1000
                                        },
                                        {
                                            "parameters":  {
                                                               "columns":  {
                                                                               "mappingMode":  "autoMapInputData",
                                                                               "value":  {

                                                                                         }
                                                                           },
                                                               "documentId":  {
                                                                                  "__rl":  true,
                                                                                  "mode":  "id",
                                                                                  "value":  "1cCu5_BB-xMCzXfzXpZeoEvW6zYgbQjaHFEWvQM4poPQ"
                                                                              },
                                                               "operation":  "append",
                                                               "options":  {

                                                                           },
                                                               "resource":  "sheet",
                                                               "sheetName":  {
                                                                                 "__rl":  true,
                                                                                 "mode":  "name",
                                                                                 "value":  "Keyword Research"
                                                                             }
                                                           },
                                            "id":  "save-research",
                                            "name":  "Save Research to Sheets",
                                            "type":  "n8n-nodes-base.googleSheets",
                                            "typeVersion":  4.5,
                                            "position":  [
                                                             1920,
                                                             0
                                                         ],
                                            "credentials":  {
                                                                "googleSheetsOAuth2Api":  {
                                                                                              "id":  "cu0w6Z9j874ktEH4",
                                                                                              "name":  "Google Sheets account"
                                                                                          }
                                                            }
                                        },
                                        {
                                            "id":  "call-seo-generator",
                                            "name":  "Trigger SEO Generator",
                                            "type":  "n8n-nodes-base.httpRequest",
                                            "typeVersion":  4.2,
                                            "position":  [
                                                             2160,
                                                             0
                                                         ],
                                            "parameters":  {
                                                               "bodyParameters":  {
                                                                                      "parameters":  [
                                                                                                         {
                                                                                                             "name":  "keyword",
                                                                                                             "value":  "={{ $json[\u0027Top Opportunity\u0027] }}"
                                                                                                         },
                                                                                                         {
                                                                                                             "name":  "send_email",
                                                                                                             "value":  "true"
                                                                                                         },
                                                                                                         {
                                                                                                             "name":  "language",
                                                                                                             "value":  "es"
                                                                                                         }
                                                                                                     ]
                                                                                  },
                                                               "method":  "POST",
                                                               "options":  {
                                                                               "response":  {
                                                                                                "response":  {
                                                                                                                 "neverError":  true,
                                                                                                                 "responseFormat":  "text"
                                                                                                             }
                                                                                            }
                                                                           },
                                                               "sendBody":  true,
                                                               "specifyBody":  "keypair",
                                                               "url":  "https://n8n.larryvanscamper.com/webhook/db0931a7-fb62-4a3a-a79f-915cd918edaf"
                                                           },
                                            "onError":  "continueRegularOutput"
                                        }
                                    ],
                          "connections":  {
                                              "Keyword Research Webhook":  {
                                                                               "main":  [
                                                                                            [
                                                                                                {
                                                                                                    "node":  "Validate Input",
                                                                                                    "type":  "main",
                                                                                                    "index":  0
                                                                                                }
                                                                                            ]
                                                                                        ]
                                                                           },
                                              "Validate Input":  {
                                                                     "main":  [
                                                                                  [
                                                                                      {
                                                                                          "node":  "Prepare Keyword Expansion",
                                                                                          "type":  "main",
                                                                                          "index":  0
                                                                                      }
                                                                                  ]
                                                                              ]
                                                                 },
                                              "Aggregate and Analyze":  {
                                                                            "main":  [
                                                                                         [
                                                                                             {
                                                                                                 "node":  "Save Research to Sheets",
                                                                                                 "type":  "main",
                                                                                                 "index":  0
                                                                                             }
                                                                                         ]
                                                                                     ]
                                                                        },
                                              "Prepare Keyword Expansion":  {
                                                                                "main":  [
                                                                                             [
                                                                                                 {
                                                                                                     "node":  "Fetch Keywords",
                                                                                                     "type":  "main",
                                                                                                     "index":  0
                                                                                                 }
                                                                                             ]
                                                                                         ]
                                                                            },
                                              "Fetch Keywords":  {
                                                                     "main":  [
                                                                                  [
                                                                                      {
                                                                                          "node":  "Aggregate and Analyze",
                                                                                          "type":  "main",
                                                                                          "index":  0
                                                                                      }
                                                                                  ]
                                                                              ]
                                                                 },
                                              "Save Research to Sheets":  {
                                                                              "main":  [
                                                                                           [
                                                                                               {
                                                                                                   "node":  "Trigger SEO Generator",
                                                                                                   "type":  "main",
                                                                                                   "index":  0
                                                                                               }
                                                                                           ]
                                                                                       ]
                                                                          }
                                          },
                          "authors":  "Jesús Matallanos",
                          "name":  null,
                          "description":  null,
                          "autosaved":  false,
                          "workflowPublishHistory":  [
                                                         {
                                                             "createdAt":  "2026-01-30T16:20:46.611Z",
                                                             "id":  64,
                                                             "workflowId":  "zzMMxvDR5RimTaMR",
                                                             "versionId":  "b99df0bd-bd37-46d4-8bbd-b9a25975bf7f",
                                                             "event":  "activated",
                                                             "userId":  "a566efca-8089-4c41-ae9c-d5e9ffa7a7f9"
                                                         }
                                                     ]
                      }
}
